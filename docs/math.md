公式识别

落叶ocr调用腾讯的数学公式识别api与MathpixOCR的api，公式识别这一块还是首推Mathpix，国内大部分公式识别效果谁用谁知道，中国大陆用户使用Mathpix可以按年付费，具体请去官网查看，Mathpix的api设置时会收取$1，之后只要每月调用次数不超过免费额度的1k次是不用花钱的，这个免费额度一般来说足够个人使用了，但是Mathpix api的申请相比于其他要麻烦一点，需要绑定一张信用卡（visa、万事达或者其他），国内带银联标识的信用卡<u>似乎</u>是不行的（我也没有试过，我申请的时候用的visa卡）。公式识别页面也有两个文本框，左边返回识别结果的latex，当你使用Mathpix接口进行公式识别的时候，右边的文本框还会返回mathml。

识别得到的latex结果可以直接复制，然后打开mathtype粘贴。啥？你没有mathtype？那请自行去搜索引擎里输入"在Word里插入latex公式"，按下回车就能看到很多详细的解决办法，如果有这方面的疑问请自行搜索。啥？你不知道mathml是啥？不知道是啥请搜索，不知道咋用请往下看(＠_＠;)

## 腾讯公式识别：

假设你已经在腾讯云开通了文字识别的服务并且已经将密钥输入落叶ocr中。

有能力的话首推Mathpix的接口，但是国内的也是能用的（但是落叶ocr仅支持调用腾讯云的数学公式识别api），下面先来说说腾讯云的数学公式识别。

就拿简单的完全平方公式来试，如下图。

![](https://s3.ax1x.com/2021/01/29/yiCJ1O.png)

复制识别结果，粘贴到mathtype里。

![](https://s3.ax1x.com/2021/01/29/yiCcjg.png)

## Mathpix：

假设你已经在Mathpix开通了OCR的api并且已经将密钥输入落叶ocr中。

接着我们再来试试Mathpix的公式识别，先来看看要识别的公式：

![](https://s3.ax1x.com/2021/01/29/yikrZQ.png)

先在下列列表里选择Mathpix，然后点击截图识别，得到的结果如下图所示。

![](https://s3.ax1x.com/2021/01/29/yiib79.png)

先将左边文本框里的latex复制，然后粘贴到mathtype里看看效果。

![](https://s3.ax1x.com/2021/01/29/yiFG90.png)

对比上图的公式和原公式发现基本都是正确的（做下面和最右边那两条线不是公式的内容，是闪烁的光标，就像聊天时在输入框输入内容的时候那个一闪一闪的光标），只有方程右边求和符号后和最后面的两条竖线没有准确的输出。啥？这样的精确度还不行？那......手敲公式吧。

至于mathml，将右边文本框里的mathml全部复制，打开Word，点击右键，在粘贴选项中选择只保留文本就能看到公式了，如下图所示。

![](https://s3.ax1x.com/2021/01/29/yiVIeS.png)





